# RAPT Brewing Dashboard Configuration
# Copy this configuration to your Home Assistant Lovelace dashboard

# ==========================================
# RAPT BREWING CARD (Add to any dashboard)
# ==========================================
type: vertical-stack
cards:
  # Session Management Card
  - type: entities
    title: Session Control
    entities:
      - entity: text.rapt_brewing_session_manager_session_name
        name: Session Name
      - entity: button.rapt_brewing_session_manager_start_session
        name: Start New Session
      - entity: button.rapt_brewing_session_manager_delete_session
        name: Delete Session

  # Current Readings Card
  - type: entities
    title: Current Readings
    entities:
      - entity: sensor.rapt_brewing_session_manager_current_gravity
        name: Current Gravity
      - entity: sensor.rapt_brewing_session_manager_current_temperature
        name: Current Temperature
      - entity: sensor.rapt_brewing_session_manager_rapt_pill_battery
        name: Battery Level
      - entity: sensor.rapt_brewing_session_manager_rapt_pill_signal
        name: Signal Strength
      - entity: sensor.rapt_brewing_session_manager_last_reading_time
        name: Last Reading

  # Brewing Targets Card
  - type: entities
    title: Brewing Targets
    entities:
      - entity: sensor.rapt_brewing_session_manager_original_gravity
        name: Original Gravity
      - entity: number.rapt_brewing_session_manager_target_gravity
        name: Target Gravity
      - entity: number.rapt_brewing_session_manager_target_temperature
        name: Target Temperature

  # Fermentation Progress Card
  - type: entities
    title: Fermentation Progress
    entities:
      - entity: sensor.rapt_brewing_session_manager_alcohol_percentage
        name: Alcohol %
      - entity: sensor.rapt_brewing_session_manager_attenuation
        name: Attenuation %
      - entity: sensor.rapt_brewing_session_manager_fermentation_rate
        name: Fermentation Rate
      - entity: sensor.rapt_brewing_session_manager_session_duration
        name: Session Duration (hours)

  # Alerts Card
  - type: entities
    title: Alerts & Notifications
    entities:
      - entity: sensor.rapt_brewing_session_manager_active_alerts
        name: Active Alerts
      - entity: button.rapt_brewing_session_manager_clear_alerts
        name: Clear Alerts


  # Gravity Chart Card
  - type: history-graph
    title: Gravity Over Time
    entities:
      - entity: sensor.rapt_brewing_session_manager_current_gravity
        name: Current Gravity
      - entity: sensor.rapt_brewing_session_manager_target_gravity
        name: Target Gravity
    hours_to_show: 168  # 7 days
    refresh_interval: 300  # 5 minutes

  # Temperature Chart Card
  - type: history-graph
    title: Temperature Over Time
    entities:
      - entity: sensor.rapt_brewing_session_manager_current_temperature
        name: Current Temperature
      - entity: sensor.rapt_brewing_session_manager_target_temperature
        name: Target Temperature
    hours_to_show: 168  # 7 days
    refresh_interval: 300  # 5 minutes

  # Fermentation Progress Chart
  - type: history-graph
    title: Fermentation Progress
    entities:
      - entity: sensor.rapt_brewing_session_manager_alcohol_percentage
        name: Alcohol %
      - entity: sensor.rapt_brewing_session_manager_attenuation
        name: Attenuation %
      - entity: sensor.rapt_brewing_session_manager_fermentation_rate
        name: Fermentation Rate
    hours_to_show: 168  # 7 days
    refresh_interval: 300  # 5 minutes

  # Mini Graph Cards (Alternative chart style)
  - type: horizontal-stack
    cards:
      - type: custom:mini-graph-card
        name: Gravity Trend
        entities:
          - sensor.rapt_brewing_session_manager_current_gravity
        hours_to_show: 48
        points_per_hour: 4
        line_width: 2
        font_size: 75
        animate: true
        show:
          labels: true
          points: true
          legend: false
        color_thresholds:
          - value: 1.020
            color: "#e74c3c"
          - value: 1.010
            color: "#f39c12"
          - value: 1.000
            color: "#27ae60"

      - type: custom:mini-graph-card
        name: Temperature Trend
        entities:
          - sensor.rapt_brewing_session_manager_current_temperature
        hours_to_show: 48
        points_per_hour: 4
        line_width: 2
        font_size: 75
        animate: true
        show:
          labels: true
          points: true
          legend: false
        color_thresholds:
          - value: 15
            color: "#3498db"
          - value: 18
            color: "#27ae60"
          - value: 25
            color: "#f39c12"
          - value: 30
            color: "#e74c3c"

# ==========================================
# COMPACT DASHBOARD (For smaller screens)
# ==========================================
# Uncomment the lines below to use this layout instead
#
# type: vertical-stack
# cards:
#   - type: horizontal-stack
#     cards:
#       - type: entities
#         title: Session
#         entities:
#           - text.rapt_brewing_session_name
#           - button.rapt_brewing_start_session
#           - button.rapt_brewing_delete_session
#         show_header_toggle: false
#       - type: entities
#         title: Current
#         entities:
#           - sensor.rapt_brewing_current_gravity
#           - sensor.rapt_brewing_current_temperature
#           - sensor.rapt_brewing_battery_level
#         show_header_toggle: false
#
#   - type: horizontal-stack
#     cards:
#       - type: entities
#         title: Targets
#         entities:
#           - sensor.rapt_brewing_original_gravity
#           - number.rapt_brewing_target_gravity
#         show_header_toggle: false
#       - type: entities
#         title: Progress
#         entities:
#           - sensor.rapt_brewing_alcohol_percentage
#           - sensor.rapt_brewing_attenuation
#         show_header_toggle: false
#
#   - type: history-graph
#     title: Brewing Progress
#     entities:
#       - sensor.rapt_brewing_current_gravity
#       - sensor.rapt_brewing_current_temperature
#     hours_to_show: 72
#     refresh_interval: 300

# ==========================================
# MOBILE DASHBOARD (Mobile-friendly layout)
# ==========================================
# Uncomment the lines below to use this layout instead
#
# type: vertical-stack
# cards:
#   - type: glance
#     title: Quick Status
#     entities:
#       - entity: sensor.rapt_brewing_current_gravity
#         name: Gravity
#       - entity: sensor.rapt_brewing_current_temperature
#         name: Temp
#       - entity: sensor.rapt_brewing_battery_level
#         name: Battery
#     columns: 2
#
#   - type: entities
#     title: Session Control
#     entities:
#       - text.rapt_brewing_session_name
#       - button.rapt_brewing_start_session
#       - button.rapt_brewing_delete_session
#     show_header_toggle: false
#
#   - type: entities
#     title: Brewing Setup
#     entities:
#       - sensor.rapt_brewing_original_gravity
#       - number.rapt_brewing_target_gravity
#     show_header_toggle: false
#
#   - type: entities
#     title: Progress
#     entities:
#       - sensor.rapt_brewing_alcohol_percentage
#       - sensor.rapt_brewing_attenuation
#       - sensor.rapt_brewing_fermentation_rate
#     show_header_toggle: false
#
#   - type: history-graph
#     title: Gravity & Temperature
#     entities:
#       - sensor.rapt_brewing_current_gravity
#       - sensor.rapt_brewing_current_temperature
#     hours_to_show: 48
#     refresh_interval: 300